# SyncBoard Production Environment Configuration
# This file contains all production environment variables for a scalable, secure deployment

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=production
PORT=5000
HOST=0.0.0.0
WORKERS=8
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000
HEALTH_CHECK_INTERVAL=30000
MAX_MEMORY_USAGE=500
RESTART_THRESHOLD=10
STICKY_SESSIONS=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=your-db-host.com
DB_PORT=5432
DB_NAME=syncboard_prod
DB_USER=syncboard_user
DB_PASSWORD=your-super-secure-db-password
DB_MAX_CONNECTIONS=100
DB_MIN_CONNECTIONS=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=your-redis-host.com
REDIS_PORT=6379
REDIS_PASSWORD=your-super-secure-redis-password
REDIS_DB=0

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-key-minimum-64-characters-long
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# Master Encryption Key (256-bit hex string)
MASTER_ENCRYPTION_KEY=your-256-bit-master-encryption-key-in-hex-format

# Session Configuration
SESSION_SECRET=your-super-secure-session-secret-key
SESSION_MAX_AGE=86400000

# Password Configuration
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_SPECIAL_CHARS=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_UPPERCASE=true

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL=false
RATE_LIMIT_SKIP_FAILED=false

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
ENABLE_CORS=true
ALLOWED_ORIGINS=https://syncboard.com,https://www.syncboard.com,https://app.syncboard.com

# =============================================================================
# SECURITY HEADERS
# =============================================================================
ENABLE_SECURITY_HEADERS=true
ENABLE_COMPRESSION=true
ENABLE_REQUEST_LOGGING=true
ENABLE_RESPONSE_TIME=true

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
LOG_LEVEL=info
ENABLE_METRICS=true
ENABLE_TRACING=true

# External Monitoring Services
SENTRY_DSN=your-sentry-dsn-for-error-tracking
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
DATADOG_API_KEY=your-datadog-api-key

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================
# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=syncboard-files-prod
AWS_S3_ENDPOINT=https://s3.amazonaws.com

# File Upload Limits
MAX_FILE_SIZE=100MB
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,jpg,jpeg,png,gif,mp4,mp3,zip

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SMTP Configuration
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@syncboard.com
SMTP_PASS=your-email-password

# Email Templates
EMAIL_FROM=noreply@syncboard.com
EMAIL_FROM_NAME=SyncBoard
EMAIL_REPLY_TO=support@syncboard.com

# =============================================================================
# WEBRTC CONFIGURATION
# =============================================================================
# TURN/STUN Servers
TURN_SERVER_URL=turn:your-turn-server.com:3478
TURN_SERVER_USERNAME=your-turn-username
TURN_SERVER_CREDENTIAL=your-turn-credential
STUN_SERVER_URL=stun:stun.l.google.com:19302

# WebRTC Settings
WEBRTC_MAX_PEERS=50
WEBRTC_ICE_TIMEOUT=10000
WEBRTC_CONNECTION_TIMEOUT=30000

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================
CACHE_TTL=3600
CACHE_MAX_KEYS=10000
CACHE_CLEANUP_INTERVAL=300000

# =============================================================================
# LOAD BALANCING CONFIGURATION
# =============================================================================
LOAD_BALANCER_ENABLED=true
LOAD_BALANCER_ALGORITHM=round_robin
LOAD_BALANCER_HEALTH_CHECK_INTERVAL=30000
LOAD_BALANCER_MAX_RETRIES=3

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=syncboard-backups-prod

# =============================================================================
# MAINTENANCE CONFIGURATION
# =============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.
MAINTENANCE_ESTIMATED_RESTORE_TIME=2024-01-01T00:00:00Z

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_WEBCAM=true
ENABLE_SCREEN_SHARING=true
ENABLE_FILE_UPLOAD=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_ANALYTICS=true
ENABLE_DEBUG_MODE=false

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Google Services
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft Services
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# GitHub Integration
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# =============================================================================
# PERFORMANCE OPTIMIZATION
# =============================================================================
# Database Optimization
DB_QUERY_TIMEOUT=30000
DB_POOL_SIZE=20
DB_POOL_MIN=5
DB_POOL_MAX=100

# Redis Optimization
REDIS_POOL_SIZE=10
REDIS_POOL_MIN=2
REDIS_POOL_MAX=20

# Memory Management
MAX_MEMORY_USAGE_MB=512
GARBAGE_COLLECTION_INTERVAL=300000

# =============================================================================
# SECURITY POLICIES
# =============================================================================
# Password Policies
PASSWORD_EXPIRY_DAYS=90
PASSWORD_HISTORY_COUNT=5
ACCOUNT_LOCKOUT_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=900000

# Session Policies
SESSION_IDLE_TIMEOUT=1800000
SESSION_ABSOLUTE_TIMEOUT=86400000
MAX_CONCURRENT_SESSIONS=5

# Data Retention
DATA_RETENTION_DAYS=2555
AUDIT_LOG_RETENTION_DAYS=365
BACKUP_RETENTION_DAYS=90

# =============================================================================
# COMPLIANCE & PRIVACY
# =============================================================================
# GDPR Compliance
GDPR_ENABLED=true
DATA_PROCESSING_CONSENT_REQUIRED=true
RIGHT_TO_BE_FORGOTTEN_ENABLED=true

# Privacy Settings
ANONYMIZE_IP_ADDRESSES=true
LOG_PERSONAL_DATA=false
ENCRYPT_LOGS=true

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_VERSION=v1
API_RATE_LIMIT=1000
API_RATE_WINDOW=900000
API_TIMEOUT=30000

# Webhook Configuration
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_TIMEOUT=5000
WEBHOOK_RETRY_ATTEMPTS=3

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Testing Configuration
TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/syncboard_test
TEST_REDIS_URL=redis://localhost:6379/1

# Debug Configuration
DEBUG_MODE=false
VERBOSE_LOGGING=false
PERFORMANCE_PROFILING=false

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Docker Configuration
DOCKER_IMAGE=syncboard:latest
DOCKER_REGISTRY=your-docker-registry.com
DOCKER_TAG=production

# Kubernetes Configuration
K8S_NAMESPACE=syncboard-prod
K8S_REPLICAS=3
K8S_RESOURCE_LIMITS_CPU=1000m
K8S_RESOURCE_LIMITS_MEMORY=1Gi
K8S_RESOURCE_REQUESTS_CPU=500m
K8S_RESOURCE_REQUESTS_MEMORY=512Mi

# =============================================================================
# MONITORING & ALERTING
# =============================================================================
# Health Check Configuration
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Alerting Configuration
ALERT_EMAIL=support@syncboard.com
ALERT_SLACK_WEBHOOK=your-slack-webhook-url
ALERT_PAGERDUTY_KEY=your-pagerduty-key

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics